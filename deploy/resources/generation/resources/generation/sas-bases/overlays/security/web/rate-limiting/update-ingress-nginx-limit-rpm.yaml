---
apiVersion: builtin
kind: ReplacementTransformer
metadata:
  name: update-limitRpm-annotation-ingress-transformer
replacements:
- source:
    kind: ConfigMap
    name: ingress-nginx-rate-limit-inputs
    fieldPath: data.limitRpm
  targets:
  - select:
      kind: Ingress
    fieldPaths:
      - metadata.annotations.nginx\.ingress\.kubernetes\.io/limit-rpm
    options:
      create: true
